var scaleDownAmnt=.7,boxShadowAmnt="40px";$.Velocity.RegisterEffect("scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.7"},1]]}),$.Velocity.RegisterEffect("scaleDown.moveUp",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.2],[{translateY:"-100%"},.6],[{translateY:"-100%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"-100%",scale:scaleDownAmnt},.6],[{translateY:"-100%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveUp",{defaultDuration:1,calls:[[{translateY:"90%",scale:scaleDownAmnt},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleUp.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.6],[{translateY:"0%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleDown.moveDown",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.2],[{translateY:"100%"},.6],[{translateY:"100%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveDown.scroll",{defaultDuration:1,calls:[[{},.6],[{translateY:"100%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveDown",{defaultDuration:1,calls:[[{translateY:"-90%",scale:scaleDownAmnt},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]});var VeloSlider=function(){var s={veloInit:$(".velo-slides").data("velo-slider"),veloSlide:$(".velo-slide"),veloSlideBg:".velo-slide__bg",navPrev:$(".velo-slides-nav").find("a.js-velo-slides-prev"),navNext:$(".velo-slides-nav").find("a.js-velo-slides-next"),veloBtn:$(".velo-slide__btn"),delta:0,scrollThreshold:7,currentSlide:1,animating:!1,animationDuration:2e3},l=0,a=!1;return{init:function(){this.bind()},bind:function(){s.veloSlide.first().addClass("is-active"),"on"==s.veloInit&&(VeloSlider.initScrollJack(),$(window).on("DOMMouseScroll mousewheel",VeloSlider.scrollJacking)),s.navPrev.on("click",VeloSlider.prevSlide),s.navNext.on("click",VeloSlider.nextSlide),$(document).on("keydown",function(e){var l=39==e.which||40==e.which,i=37==e.which||38==e.which;l&&!s.navNext.hasClass("inactive")?(e.preventDefault(),VeloSlider.nextSlide()):i&&!s.navPrev.hasClass("inactive")&&(e.preventDefault(),VeloSlider.prevSlide())}),VeloSlider.checkNavigation(),VeloSlider.hoverAnimation()},hoverAnimation:function(){s.veloBtn.hover(function(){$(this).closest(s.veloSlide).toggleClass("is-hovering")})},setAnimation:function(e,l){var i="translateNone",t="translateUp",a="translateDown";return a=e?(i="scaleUp.moveUp.scroll",t="scaleDown.moveUp.scroll","scaleDown.moveDown.scroll"):(i="next"==l?"scaleUp.moveUp":"scaleUp.moveDown",t="scaleDown.moveUp","scaleDown.moveDown"),[i,t,a,s.animationDuration,"ease"]},initScrollJack:function(){var e=s.veloSlide.filter(".is-active"),l=e.prevAll(s.veloSlide),i=e.nextAll(s.veloSlide),t=VeloSlider.setAnimation(!1),a=t[0],o=t[1],n=t[2];console.log(t),console.log(t[4]),e.children("div").velocity(a,1,function(){e.css("opacity",1),l.css("opacity",1),i.css("opacity",1)}),l.children("div").velocity(o,0),i.children("div").velocity(n,0)},scrollJacking:function(e){return e.originalEvent.detail<0||0<e.originalEvent.wheelDelta?(l--,Math.abs(l)>=s.scrollThreshold&&VeloSlider.prevSlide()):++l>=s.scrollThreshold&&VeloSlider.nextSlide(),!1},prevSlide:function(e){void 0!==e&&e.preventDefault();var l=s.veloSlide.filter(".is-active"),i=VeloSlider.setAnimation(t,"prev"),t=!1;l=t?l.next(s.veloSlide):l,console.log(t),a||l.is(":first-child")||(a=!0,l.removeClass("is-active").children(s.veloSlideBg).velocity(i[2],i[3],i[4]).end().prev(s.veloSlide).addClass("is-active").children(s.veloSlideBg).velocity(i[0],i[3],i[4],function(){a=!1}),currentSlide=s.currentSlide-1),VeloSlider.resetScroll()},nextSlide:function(e){void 0!==e&&e.preventDefault();var l=s.veloSlide.filter(".is-active"),i=VeloSlider.setAnimation(t,"next"),t=!1;a||l.is(":last-of-type")||(a=!0,l.removeClass("is-active").children(s.veloSlideBg).velocity(i[1],i[3]).end().next(s.veloSlide).addClass("is-active").children(s.veloSlideBg).velocity(i[0],i[3],function(){a=!1}),currentSlide=s.currentSlide+1),VeloSlider.resetScroll()},resetScroll:function(){l=0,VeloSlider.checkNavigation()},checkNavigation:function(){s.veloSlide.filter(".is-active").is(":first-of-type")?s.navPrev.addClass("inactive"):s.navPrev.removeClass("inactive"),s.veloSlide.filter(".is-active").is(":last-of-type")?s.navNext.addClass("inactive"):s.navNext.removeClass("inactive")}}}();VeloSlider.init();